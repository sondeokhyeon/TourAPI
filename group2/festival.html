<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Nitro &mdash; Free HTML5 Bootstrap Website Template by FreeHTML5.co</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by FreeHTML5.co" />
	<meta name="keywords" content="free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive"
	/>
	<meta name="author" content="FreeHTML5.co" />

	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content="" />
	<meta property="og:image" content="" />
	<meta property="og:url" content="" />
	<meta property="og:site_name" content="" />
	<meta property="og:description" content="" />
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,600,400italic,700' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

	<!-- Animate.css -->
	<link rel="stylesheet" href="../css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="../css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="../css/bootstrap.css">
	<!-- Owl Carousel -->
	<link rel="stylesheet" href="../css/owl.carousel.min.css">
	<link rel="stylesheet" href="../css/owl.theme.default.min.css">
	<!-- Theme style  -->
	<link rel="stylesheet" href="../css/style.css">
	<!-- custom common css-->
	<link rel="stylesheet" href="../css/customused.css">

	<!-- Modernizr JS -->
	<script src="../js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="../js/respond.min.js"></script>
	<![endif]-->

</head>

<body>

	<div id="fh5co-page">
		<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle">
			<i></i>
		</a>
		<aside id="fh5co-aside" role="complementary" class="border js-fullheight">

			<h1 id="fh5co-logo">
				<a href="../cmm/index.html">
					<img src="../images/logo.png" alt="logo">
				</a>
			</h1>
			<nav id="fh5co-main-menu" role="navigation">
					<ul>
							<a href="../cmm/index.html">Home</a></li><br><br>
							<li data-toggle="collapse" data-target="#collapse2"><a href="#">어디로 갈까</a></li>
							<div class="collapse in" id="collapse2" aria-expanded="true"> 
									<ul class="nav">
										<li><a href="../group2/tourist.html">관광지</a></li>
										<li><a href="../group2/festival.html">축제﹒행사</a></li>
										<li><a href="../group2/tourcourse.html">추천 여행코스</a></li>
									</ul>
							</div>
							<li data-toggle="collapse" data-target="#collapse3"><a href="#">무엇을 먹을까</a></li>
							<div class="collapse in" id="collapse3" aria-expanded="true"> 
									<ul class="nav">
										<li><a href="../group3/eatery.html">음식점정보</a></li>
									</ul>
							</div>
							<li data-toggle="collapse" data-target="#collapse4"><a href="#">어디서 잘까</a></li>
							<div class="collapse in" id="collapse4" aria-expanded="true"> 
								<ul class="nav">
									<li><a href="../group4/accommodation.html">숙박업소정보</a></li>
								</ul>
							</div>
					</ul>
			</nav>
		</aside>

		<div id="fh5co-main">
			<div class="fh5co-narrow-content">
				<h2 class="animate-box" data-animate-effect="fadeInLeft">
					<span id="festivalMonth"></span>월 현재 진행중인 축제정보
				</h2>
				<nav class="areaLists">
						<span class="area" style="    display: inline-block;
						width: 100px;
						font-size: 30px;
						font-weight: 600;">대지역</span>
						<span class="sigungu">시군구</span>
					<div class="areaList" style="display:flex; 
												justify-content:space-between; 
												list-style:none; 
												padding-left: 0;
												z-index: 100002; 
												visibility: hidden; 
												background-color: white;
												position: absolute;
												top: auto;
												width: 100%;
												box-shadow: 1px 1px 1px 1px; 
												padding-top: 20px;
												padding-bottom: 20px;">
						<div class="hiddenMenu">	
							<li class="areaCodes" data-toggle="1">서울</li> 
							<li class="areaCodes" data-toggle="7">울산</li> 
							<li class="areaCodes" data-toggle="35">경북</li> 
						</div>
						<div class="hiddenMenu">	
							<li class="areaCodes" data-toggle="2">인천</li> 
							<li class="areaCodes" data-toggle="8">세종시</li> 
							<li class="areaCodes" data-toggle="36">경남</li> 
						</div>
						<div class="hiddenMenu">	
							<li class="areaCodes" data-toggle="3">대전</li> 
							<li class="areaCodes" data-toggle="31">경기도</li> 
							<li class="areaCodes" data-toggle="37">전북</li> 
						</div>
						<div class="hiddenMenu">	
							<li class="areaCodes" data-toggle="4">대구</li> 
							<li class="areaCodes" data-toggle="32">강원도</li> 
							<li class="areaCodes" data-toggle="38">전남</li> 
						</div>
						<div class="hiddenMenu">	
							<li class="areaCodes" data-toggle="5">광주</li> 
							<li class="areaCodes" data-toggle="33">충북</li> 
							<li class="areaCodes" data-toggle="39">제주도</li> 
						</div>
						<div class="hiddenMenu">	
							<li class="areaCodes" data-toggle="6">부산</li> 
							<li class="areaCodes" data-toggle="34">충남</li> 
						</div>
					</div>
						<ul class="sigunguLists">

						</ul>
					</nav>
				<div class="row animate-box" id="travelContents" data-animate-effect="fadeInLeft">
				</div>
				<div class="text-right"><a href="javascript:void(0)" onclick="moreView()">더보기</a></div>
			</div>
		</div>
	</div>

	<!-- jQuery -->
	<script src="../js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="../js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="../js/bootstrap.min.js"></script>
	<!-- Carousel -->
	<script src="../js/owl.carousel.min.js"></script>
	<!-- Stellar -->
	<script src="../js/jquery.stellar.min.js"></script>
	<!-- Waypoints -->
	<script src="../js/jquery.waypoints.min.js"></script>
	<!-- Counters -->
	<script src="../js/jquery.countTo.js"></script>
	<!-- MAIN JS -->
	<script src="../js/main.js"></script>
	<!-- 180510 common 추가 -->
	<script src="../js/common.js"></script>

	<script>
		$(function () {
			common.leftMenuImport();
			common.getMonth();
			draw.areaChange();
			draw.init();
			draw.areaSigunguCodeGet(); 
			// draw.sigunguChange();
			draw.elements();

			$(".area").click(function() {
				$(".areaList").css('visibility','visible')
			}) 

			// $('.area').mouseout(function() { 
			// 	$(".areaList").css('visibility','hidden')
			//  });


		})
		var parsing = { 
		test:function(data) {
			console.log(data)
		},
		dataParsing: function (data) {
			var list = data.response.body.items.item
			// console.log(list)
			if(Array.isArray(list)) {
				if (list != undefined  || list !='' || list != null ) {
					// console.log(list)
					$.each(list, function (i, item) {
						var infoElements =
							"<div class='col-xs-6 col-sm-6 col-md-4 col-lg-3'>"
						+   "<a href='../cmm/detail.html?id=" + item.contentid + "&item=" + item.contenttypeid + "'" + " target='_blank'>"		
						+	"<div class='thumbnail'>"
						+		"<img class=" + "'img-responsive'" + "src="+ "'" + item.firstimage + "'" + "onError="  + "this.onerror=null;this.src='../images/default.png';" +  ">"
						+			"<div class='caption text-center'>"
						+					"<h5>"+ item.title +"</h5>"
						+					"<h6>"+ item.addr1 + "</h6>"
						+			"</div>"
						+	"</div>"
						+ 	"</a>"   
						+ "</div>"  
						$("#travelContents").append(infoElements)
					})
				} else {
					$(".text-right").css("display","none");
				}
			} else {
				console.log(list)
					var infoElements =
							"<div class='col-xs-6 col-sm-6 col-md-4 col-lg-3'>"
						+   "<a href='../cmm/detail.html?id=" + list.contentid + "&item=" + list.contenttypeid + "'" + " target='_blank'>"		
						+	"<div class='thumbnail'>"
						+		"<img class=" + "'img-responsive'" + "src="+ "'" + list.firstimage + "'" + "onError="  + "this.onerror=null;this.src='../images/default.png';" +  ">"
						+			"<div class='caption text-center'>"
						+					"<h5>"+ list.title +"</h5>"
						+					"<h6>"+ list.addr1 + "</h6>"
						+			"</div>"
						+	"</div>"
						+ 	"</a>"   
						+ "</div>"  
						$("#travelContents").append(infoElements)

			}
		},

		areaDetailCodeParsing : function (data) {
			var list = data.response.body.items.item
			//console.log(list)
			var sigunguDraw;
			if (list.code != 1) {
				$.each(list, function (i, item) {
				i+=1
				if(i % 3 === 1) {
					console.log(i)
					sigunguDraw =  "<li class='sigunguList' data-toggle="+ item.code +'>'+ item.name +'</li>' + "</div>"
				} else {
				 	sigunguDraw = "<div>" + "<li class='sigunguList' data-toggle="+ item.code +">"+ item.name +"</li>" 
				}	
					$(".sigunguLists").append(sigunguDraw)
				})
			} else {
				 sigunguDraw = 
					'<span>상세지역이 없습니다</span>'
					$(".sigunguLists").append(sigunguDraw)
			}
		}	
	}

	var draw = {
		elementCount : 0,
		areaCode : 0,
		sigunguCode : 0,

		init     : function() {
			this.elementCount = '';
			this.areaCode = '';
			this.sigunguCode = '';
		},

		elements : function() {
			var date = common.getDate()
			common.getInfo('get', 'searchFestival', 'areaCode=' + this.areaCode + '&sigunguCode=' + this.sigunguCode + '&listYN=Y&MobileOS=ETC&MobileApp=AppTest&numOfRows=24&eventStartDate='+ date + '&pageNo=' + this.elementCount, parsing.dataParsing);
		},

		areaSigunguCodeGet : function() {
			common.getInfo('get', 'areaCode', 'numOfRows=50&MobileOS=ETC&MobileApp=test&areaCode=' + this.areaCode, parsing.areaDetailCodeParsing);
		},

		areaChange : function () {
			that = this;
			$(".areaCodes").click(function() {
				$(".text-right").css("display","block");
				that.areaCode = $(this).attr("data-toggle");
				$("#travelContents").empty();
				that.elementCount = 1;
				$(".sigunguLists").empty();
				that.sigunguCode = '';
				that.areaSigunguCodeGet();
				that.elements();
				$(".areaList").css('visibility','hidden');
				$('.area').text($(this).context.innerHTML);
			})
		},

		sigunguChange : function () {
			that = this;
			$(document).on('click', '.sigunguList', function(e) {
				that.sigunguCode = $(this).attr("data-toggle");
				$("#travelContents").empty();
				that.elementCount = 1;
				that.elements(); 
			})
		}
	}
	
	function moreView() {
		draw.elementCount += 1;
		draw.elements();
	}



	</script>
</body>

</html>